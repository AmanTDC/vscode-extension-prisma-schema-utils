generator client {
    provider        = "prisma-client-js"
    previewFeatures = ["multiSchema"]
}

datasource db {
    provider = "mysql"
    url      = "mysql://root:root1234@localhost:3306/compass"
    schemas  = ["audit"]
    // renameModelsFromSchemas audit auth
}

model users {
    id               BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
    ulid             String?   @db.VarChar(255)
    name             String    @db.VarChar(255)
    role             Int?      @default(0)
    email            String    @db.VarChar(255)
    mobile           String?   @db.VarChar(255)
    profile_pic_slug String?   @db.VarChar(255)
    status           Int?      @default(1)
    deleted_at       DateTime? @db.DateTime(0)
    created_at       DateTime  @default(now()) @db.Timestamp(0)
    updated_at       DateTime  @default(now()) @db.Timestamp(0)

    @@index([deleted_at], map: "users_deletedat_index")
    @@index([email], map: "users_email_index")
    @@index([role], map: "users_role_index")
    @@index([status], map: "users_status_index")
    @@index([ulid], map: "users_ulid_index")
	@@schema("auth")
}

model log {
    id             Int      @id @default(autoincrement()) @db.UnsignedInt
    auditable_type String   @db.VarChar(255)
    auditable_id   Int
    event_type     String   @db.VarChar(255)
    event_values   Json
    user_id        Int
    created_at     DateTime @default(now()) @db.Timestamp(0)
    updated_at     DateTime @default(now()) @db.Timestamp(0)

    @@map("transactions")
    @@schema("audit")
}
